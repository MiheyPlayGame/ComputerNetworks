# Парсер Яндекс.Музыки (Playwright)

## Установка

```bash
pip install -r requirements.txt
playwright install chromium
```

## Запуск

- **Обычный парсинг (без входа):**  
  `python yandex_music_parser.py`

- **С видимым браузером:**  
  `python yandex_music_parser.py --visible`

- **С сохранённой авторизацией:**  
  1. Один раз сохранить сессию:  
     `python yandex_music_parser.py --save-auth`  
     В браузере войти в аккаунт Яндекс, затем в консоли нажать Enter.  
  2. Дальше запускать с флагом:  
     `python yandex_music_parser.py --auth`

## Результаты

- **CSV:** `yandex_music_tracks.csv` — позиция, название, исполнитель, длительность.

## Пагинация

Реализована через многократный скролл страницы вниз и опциональный клик по кнопке «Ещё», чтобы подгрузить больше треков перед сбором данных.

## Какие параметры можно парсить на Яндекс.Музыке (чат / плейлисты)

По разметке и данным страницы доступны:

| Параметр | Откуда брать |
|----------|----------------|
| **position** | Порядковый номер в списке (свой счётчик). |
| **title** | Название трека — текст ссылки на трек или `Meta_title__GGBnH`. |
| **artists** | Исполнители — строка из ссылок на артистов или `Meta_artists__VnR52`. |
| **duration** | Длительность в формате «м:сс» — из ячейки строки, из класса с `duration`/`Duration`/`time` или из `window.__STATE_SNAPSHOT__` (поле `durationMs`). |

Сейчас в CSV сохраняются только: **position**, **title**, **artists**, **duration**. Остальные при необходимости можно снова добавить в парсер.
